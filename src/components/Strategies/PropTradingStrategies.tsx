import { useState } from 'react';
import { Briefcase } from 'lucide-react';

type FAQItem = {
    question: string;
    answer: string;
};

const faqData: FAQItem[] = [
    {
        question: "Что такое проп-трейдинг?",
        answer: "Prop (proprietary) trading — это торговля финансовыми инструментами на капитал компании с разделением прибыли между трейдером и фирмой. Ты не инвестируешь свои деньги (кроме оплаты челленджа в онлайн-модели), а управляешь капиталом фирмы по заданным правилам риска.",
    },
    {
        question: "Какими инструментами торгуют в пропе?",
        answer: "Чаще всего: Фьючерсы (чаще их, ибо фьючерсы популярны из-за ликвидности, прозрачного стакана и удобной маржи), а еще могут быть акции, опционы и криптовалюты.",
    },
    {
        question: "Нужно ли вкладывать свои деньги?",
        answer: "Зависит от модели, мы же используем только онлайн-проп: Ты платишь за прохождение отбора (challenge). Если прошёл — получаешь funded-аккаунт. Собственные деньги не участвуют в торговле.",
    },
    {
        question: "Что такое челлендж?",
        answer: "Это этап проверки, где ты должен: достичь целевой прибыли (например 8–10%), не нарушить max drawdown, не превысить дневной лимит потерь. Только после этого дают funded-счёт.",
    },
    {
        question: "Что такое max drawdown?",
        answer: "Максимально допустимая просадка. Пример: Счёт $100,000, Max DD = $5,000. Если equity падает до $95,000 → аккаунт закрывают. Важно: бывает trailing drawdown — лимит двигается вслед за прибылью.",
    },
    {
        question: "Что такое daily loss limit?",
        answer: "Максимально допустимый убыток за один торговый день. Пример: Daily limit = $2,000, потерял больше → аккаунт аннулируется. Это главный ограничитель агрессивной торговли.",
    },
    {
        question: "Как делится прибыль?",
        answer: "Обычно: 70/30, 80/20, 90/10 (в пользу трейдера). Пример: Ты заработал $10,000. Split 80% → тебе $8,000.",
    },
    {
        question: "Чем проп лучше торговли на свои деньги?",
        answer: "Плюсы: Доступ к большему капиталу, Ограниченный личный риск, Возможность масштабирования. Минусы: Жёсткие лимиты, Давление правил, Можно «вылететь» за один плохой день.",
    },
    {
        question: "Подходит ли проп новичку?",
        answer: "Честный ответ: проп не заменяет обучение. Если у тебя: нет стабильной статистики, нет истории сделок, нет понимания risk-per-trade → вероятность «сгореть» очень высокая.",
    },
    {
        question: "Когда проп имеет смысл?",
        answer: "Он рационален, если: У тебя уже есть рабочая стратегия, Ты понимаешь свою среднюю просадку, Ты можешь торговать системно. Проп — это инструмент масштабирования, а не обучение трейдингу.",
    },
    {
        question: "Что будет, если я потрачу все деньги?",
        answer: "Если ты «потратишь все деньги» на проп-счёте, то в 99% онлайн-пропов физически «потратить всё» невозможно. Есть три защитных механизма: Daily loss limit — превысил дневной лимит → аккаунт мгновенно блокируется. Max drawdown — достиг лимита просадки → счёт закрывается. Автоликвидация — позиции принудительно закроют до полного обнуления. Ты не уходишь в минус, потому что: это не кредит, у тебя нет маржинального обязательства перед фирмой, риск ограничен правилами системы. Максимум, что ты теряешь — стоимость челленджа / подписки. Когда может быть иначе? Исключения возможны только если: ты работаешь в оффлайн-пропе по трудовому контракту, ты нарушил регламент (оверрайд лимитов, обход риск-системы), есть отдельный договор о материальной ответственности. В стандартной онлайн-модели этого нет. Что происходит технически: Если ты доходишь до лимита: Позиции закрываются, Счёт деактивируется, Ты теряешь доступ к капиталу. Чтобы продолжить — нужно заново проходить отбор. Никаких долгов. Главное: проп — это не «можно слить чужие деньги». Система устроена так, чтобы ты не смог их слить полностью. Ты рискуешь: доступом к капиталу, временем, стоимостью участия, но не более того.",
    },
];

export const PropTradingStrategies = () => {
    const [openQuestion, setOpenQuestion] = useState<number | null>(null);

    const toggleQuestion = (index: number) => {
        setOpenQuestion(openQuestion === index ? null : index);
    };

    return (
        <div className="space-y-8">
            <div className="bg-gradient-to-br from-purple-800 to-indigo-900 rounded-lg shadow-lg p-6 text-center mb-8">
                <Briefcase className="w-20 h-20 text-purple-300 mx-auto mb-4" />
                <h1 className="text-4xl font-extrabold text-white mb-3">Проп-трейдинг</h1>
                <p className="text-lg text-purple-200 max-w-2xl mx-auto">
                    Все, что нужно знать о проп-трейдинге: от основ до продвинутых стратегий.
                </p>
            </div>

            <div className="space-y-6">
                <h2 className="text-3xl font-bold text-gray-900 dark:text-white text-center">Часто задаваемые вопросы (FAQ)</h2>
                <div className="max-w-4xl mx-auto">
                    {faqData.map((item, index) => (
                        <div key={index} className="border-b border-gray-200 dark:border-gray-700 py-4">
                            <button
                                className="flex justify-between items-center w-full text-left font-semibold text-lg text-gray-800 dark:text-gray-200 focus:outline-none"
                                onClick={() => toggleQuestion(index)}
                            >
                                {item.question}
                                <svg
                                    className={`w-5 h-5 transition-transform duration-300 ${openQuestion === index ? 'transform rotate-180' : ''
                                        }`}
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            {openQuestion === index && (
                                <p className="mt-3 text-gray-600 dark:text-gray-400 leading-relaxed">
                                    {item.answer}
                                </p>
                            )}
                        </div>
                    ))}
                </div>
            </div>
        </div>
    );
};
