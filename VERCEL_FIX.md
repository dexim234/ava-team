# Решение проблемы доступа к сайту на Vercel

## Проблема: Другие пользователи не могут зайти на сайт

Это нормально! Каждый пользователь должен **авторизоваться самостоятельно** со своими логином и паролем.

## Как это работает:

1. **Сайт доступен всем** по ссылке Vercel
2. **При первом заходе** пользователь видит страницу авторизации
3. **Пользователь вводит** свой логин и пароль из списка:
   - Артём: `artyom03` / `248artdex`
   - Адель: `adel05` / `058adeldex`
   - Ксения: `ksen03` / `907ksendex`
   - Ольга: `olga04` / `638olgadex`
   - Анастасия: `anastasia05` / `638anastadex`

4. **После авторизации** пользователь получает доступ к своему аккаунту

## Важно проверить:

### 1. Переменные окружения Firebase в Vercel

Убедитесь, что в настройках проекта Vercel добавлены все переменные:

1. Откройте проект на [vercel.com](https://vercel.com)
2. Перейдите в **Settings** → **Environment Variables**
3. Проверьте, что добавлены:
   - `VITE_FIREBASE_API_KEY`
   - `VITE_FIREBASE_AUTH_DOMAIN`
   - `VITE_FIREBASE_PROJECT_ID`
   - `VITE_FIREBASE_STORAGE_BUCKET`
   - `VITE_FIREBASE_MESSAGING_SENDER_ID`
   - `VITE_FIREBASE_APP_ID`

4. Если переменных нет - добавьте их из вашего `.env` файла
5. После добавления **передеплойте проект** (Redeploy)

### 2. Правила безопасности Firestore

Проверьте правила в Firebase Console:

1. Откройте [Firebase Console](https://console.firebase.google.com/)
2. Выберите ваш проект
3. Перейдите в **Firestore Database** → **Rules**
4. Убедитесь, что правила позволяют чтение/запись:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true; // Временно для тестирования
      // Или для продакшена:
      // allow read, write: if request.auth != null;
    }
  }
}
```

**Внимание:** Для продакшена лучше использовать проверку авторизации!

### 3. Проверка работы сайта

Попросите другого пользователя:

1. Открыть ссылку Vercel в **приватном/инкогнито режиме** браузера
2. Должна открыться страница **авторизации** (Login)
3. Ввести свои логин и пароль
4. После входа должен открыться раздел Management

## Если сайт не открывается вообще:

### Проверка 1: Ошибки в консоли браузера

1. Откройте сайт
2. Нажмите **F12** (открыть DevTools)
3. Перейдите в вкладку **Console**
4. Проверьте наличие ошибок

**Частые ошибки:**
- `Firebase: Error (auth/...)` - проблема с Firebase конфигурацией
- `Failed to fetch` - проблема с переменными окружения
- `Cannot read property...` - ошибка в коде

### Проверка 2: Логи Vercel

1. Откройте проект на Vercel
2. Перейдите в **Deployments**
3. Откройте последний деплой
4. Проверьте **Build Logs** и **Function Logs**

### Проверка 3: Переменные окружения

Если видите ошибки Firebase, проверьте:

1. Все переменные окружения добавлены в Vercel
2. Значения правильные (без лишних пробелов, кавычек)
3. Переменные добавлены для окружения **Production**
4. После добавления сделан **Redeploy**

## Решение проблем:

### Проблема: "Firebase: Error (auth/api-key-not-valid)"

**Решение:**
- Проверьте `VITE_FIREBASE_API_KEY` в Vercel
- Убедитесь, что ключ правильный из Firebase Console

### Проблема: "Firebase: Error (auth/network-request-failed)"

**Решение:**
- Проверьте `VITE_FIREBASE_AUTH_DOMAIN`
- Убедитесь, что домен правильный: `your-project.firebaseapp.com`

### Проблема: Страница белая, ничего не загружается

**Решение:**
1. Проверьте консоль браузера (F12)
2. Проверьте логи Vercel
3. Убедитесь, что сборка прошла успешно
4. Проверьте, что все переменные окружения добавлены

### Проблема: "Cannot read properties of undefined"

**Решение:**
- Скорее всего, переменные окружения не загружены
- Передеплойте проект после добавления переменных

## Инструкция для пользователей:

Отправьте пользователям следующую инструкцию:

```
Для входа на сайт ApeVault:

1. Откройте ссылку: https://apevaultteam-t7h5.vercel.app
2. Введите ваш логин и пароль:
   - Логин: [ваш логин]
   - Пароль: [ваш пароль]
3. Нажмите "Войти"
4. После входа вы увидите панель управления

Если не можете войти:
- Проверьте правильность логина и пароля
- Попробуйте в приватном режиме браузера
- Очистите кэш браузера (Ctrl+Shift+Delete)
```

## Быстрая проверка:

1. ✅ Сайт открывается по ссылке Vercel
2. ✅ Видна страница авторизации (Login)
3. ✅ Можно ввести логин и пароль
4. ✅ После входа открывается Management
5. ✅ Переменные окружения добавлены в Vercel
6. ✅ Firestore правила настроены

Если все пункты выполнены - сайт работает правильно! Каждый пользователь должен авторизоваться самостоятельно.



